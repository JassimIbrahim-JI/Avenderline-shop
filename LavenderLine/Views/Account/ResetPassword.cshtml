@model LavenderLine.ViewModels.Accounts.ResetPasswordViewModel
@{
    Layout = "~/Views/Shared/_LayoutAuth.cshtml";
}

<div class="auth-container d-flex align-items-center">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-lg-10">
                <div class="auth-card">
                    <div class="row g-0">
                        <div class="col-lg-5 card-left">
                            <!-- SVG Lock Animation -->
                            <div class="text-center mb-4">
                                <svg class="lock-animation" width="120" height="120" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                    <path d="M16 11V7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7V11" stroke="white" stroke-width="2" stroke-linecap="round"/>
                                    <rect x="4" y="11" width="16" height="10" rx="2" stroke="white" stroke-width="2"/>
                                    <circle cx="12" cy="16" r="2" fill="white"/>
                                </svg>
                            </div>
                            <h2 class="text-center mb-3">Password Recovery</h2>
                            <p class="text-center opacity-75">Create a new secure password to access your account.</p>
                            
                            <!-- Animated Secure Elements -->
                            <div class="mt-4 d-flex justify-content-center">
                                <div class="d-flex align-items-center me-4">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M9 12L11 14L15 10M20 12C20 16.4183 16.4183 20 12 20C7.58172 20 4 16.4183 4 12C4 7.58172 7.58172 4 12 4C16.4183 4 20 7.58172 20 12Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    <span class="ms-2">Secure</span>
                                </div>
                                <div class="d-flex align-items-center">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path d="M12 15V17M12 7V13M12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12C21 16.9706 16.9706 21 12 21Z" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                    </svg>
                                    <span class="ms-2">Private</span>
                                </div>
                            </div>
                        </div>
                        <div class="col-lg-7">
                            <div class="p-5">
                                <h3 class="form-title">Reset Your Password</h3>
                                <form asp-action="ResetPassword" asp-controller="Account" method="post" class="auth-form">
                                    @Html.AntiForgeryToken()
                                    <div asp-validation-summary="All" class="text-danger mb-3 message-animation"></div>
                                    
                                    <input type="hidden" name="Code" value="@Model.Code" />
                                    <input type="hidden" name="UserId" value="@Model.UserId" />
                                  
                                    <div class="password-field">
                                        <label class="form-label mb-2">New Password</label>
                                        <input type="password" asp-for="Password" id="Password" class="form-control"
                                               placeholder="Enter new password" aria-label="New Password" />
                                        <span class="password-toggle" id="togglePassword">
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M12 5C17.5228 5 22 12 22 12C22 12 17.5228 19 12 19C6.47715 19 2 12 2 12C2 12 6.47715 5 12 5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </span>
                                        <span asp-validation-for="Password" class="text-danger d-block mt-1"></span>
                                        <div class="strength-meter mt-2" id="strengthMeter"></div>
                                        <div id="passwordStrengthMessage" class="small mt-1"></div>
                                    </div>
                                    
                                    <div class="password-field">
                                        <label class="form-label mb-2">Confirm Password</label>
                                        <input type="password" asp-for="ConfirmPassword" id="ConfirmPassword" class="form-control"
                                               placeholder="Confirm your password" aria-label="Confirm Password" />
                                        <span class="password-toggle" id="toggleConfirmPassword">
                                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M15 12C15 13.6569 13.6569 15 12 15C10.3431 15 9 13.6569 9 12C9 10.3431 10.3431 9 12 9C13.6569 9 15 10.3431 15 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M12 5C17.5228 5 22 12 22 12C22 12 17.5228 19 12 19C6.47715 19 2 12 2 12C2 12 6.47715 5 12 5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </span>
                                        <span asp-validation-for="ConfirmPassword" class="text-danger d-block mt-1"></span>
                                        <div id="passwordMatchMessage" class="small mt-1"></div>
                                    </div>
                                
                                    <div class="mt-4">
                                        <button type="submit" class="submit-btn w-100">
                                            <span>Reset Password</span>
                                            <svg class="ms-2" width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M13 5L20 12L13 19M4 12H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </button>
                                    </div>
                                </form>
                                <div class="text-center mt-4 login-link">
                                    <p class="small mb-0">
                                        Remember your password? <a asp-action="Login">Return to Login</a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

